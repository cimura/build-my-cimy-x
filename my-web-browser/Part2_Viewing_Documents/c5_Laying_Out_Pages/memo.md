レイアウトが木構造になりました
ここら辺から少し複雑になってきました
自分自身が自分を作るような再帰構造はいつまで経っても慣れません

ただ、ファイルも含めたデバッグができるようになったのは大きい。自分でテストしたいHTMLを作成してテストできるようになった